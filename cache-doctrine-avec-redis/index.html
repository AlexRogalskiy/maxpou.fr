<!DOCTYPE html><html lang="fr"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.131b48b25a50eff60b34.css" id="gatsby-global-css">code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><meta name="generator" content="Gatsby 2.32.2"/><style data-styled="" data-styled-version="5.2.1">.gIYuzT{top:0;left:0;margin:0 auto;display:block;width:100%;z-index:1000;background-color:var(--color-primaryAlpha);font-weight:700;}/*!sc*/
@media (min-width:700px){.gIYuzT{position:fixed;}}/*!sc*/
data-styled.g7[id="Header__HeaderWrapper-sc-1glvhxp-0"]{content:"gIYuzT,"}/*!sc*/
.kvPCEs{font-weight:700;margin-left:auto;margin-right:auto;height:60px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;max-width:770px;z-index:1000;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;overflow-x:auto;overflow-y:hidden;white-space:nowrap;padding:0px 10px;}/*!sc*/
data-styled.g8[id="Header__HeaderNav-sc-1glvhxp-1"]{content:"kvPCEs,"}/*!sc*/
.eBGaRO{display:none;-webkit-box-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
@media (min-width:700px){.eBGaRO{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}/*!sc*/
data-styled.g9[id="Header__HeaderLinksContainer-sc-1glvhxp-2"]{content:"eBGaRO,"}/*!sc*/
.jIcFfD{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--color-white);border:0;margin:0;padding:8px 10px;min-width:42px;z-index:10;}/*!sc*/
.Header__HeaderLink-sc-1glvhxp-3 + .Header__HeaderLink-sc-1glvhxp-3{margin-left:0.7rem;}/*!sc*/
data-styled.g10[id="Header__HeaderLink-sc-1glvhxp-3"]{content:"jIcFfD,"}/*!sc*/
.fbaxEU{padding-left:0;}/*!sc*/
data-styled.g11[id="Header__HeaderLinkTitle-sc-1glvhxp-4"]{content:"fbaxEU,"}/*!sc*/
.dlNRyU{display:block;padding-left:0;}/*!sc*/
data-styled.g12[id="Header__HeaderLinkTitleContent-sc-1glvhxp-5"]{content:"dlNRyU,"}/*!sc*/
.hwenbc{position:absolute;left:-999px;width:1px;height:1px;top:auto;color:var(--color-white);background-color:var(--color-grey700);}/*!sc*/
.hwenbc:focus{display:inline-block;height:auto;width:auto;position:static;padding:20px 10px;}/*!sc*/
data-styled.g15[id="Header__SkipMainContent-sc-1glvhxp-8"]{content:"hwenbc,"}/*!sc*/
.bQrabR{z-index:30;top:0px;position:relative;color:var(--color-white);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;background:transparent;border:none;cursor:pointer;padding:8px 12px;outline:none;-webkit-tap-highlight-color:transparent;}/*!sc*/
@media (min-width:700px){.bQrabR{display:none;}}/*!sc*/
data-styled.g17[id="Header__BurgerButton-sc-1glvhxp-10"]{content:"bQrabR,"}/*!sc*/
.kJkJgP{width:24px;top:30px;height:2px;background:var(--color-white);position:absolute;left:0;background:var(--color-white);-webkit-transition:all 250ms cubic-bezier(0.86,0,0.07,1);transition:all 250ms cubic-bezier(0.86,0,0.07,1);}/*!sc*/
.kJkJgP::before{content:'';top:-8px;width:24px;height:2px;background:var(--color-white);position:absolute;left:0;-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);-webkit-transition:all 250ms cubic-bezier(0.86,0,0.07,1);transition:all 250ms cubic-bezier(0.86,0,0.07,1);}/*!sc*/
.kJkJgP::after{top:8px;content:'';width:24px;height:2px;background:white;position:absolute;left:0;-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);-webkit-transition:all 250ms cubic-bezier(0.86,0,0.07,1);transition:all 250ms cubic-bezier(0.86,0,0.07,1);}/*!sc*/
data-styled.g18[id="Header__BurgerContent-sc-1glvhxp-11"]{content:"kJkJgP,"}/*!sc*/
.hwvjtC{text-align:left;padding-top:30px;padding-bottom:50px;background-color:var(--color-primary);color:var(--color-white);padding-left:20px;padding-right:20px;margin:0 auto;}/*!sc*/
.hwvjtC nav{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;max-width:900px;margin:0 auto;}/*!sc*/
.hwvjtC nav .footer-col{-webkit-flex:1 auto;-ms-flex:1 auto;flex:1 auto;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding-right:1em;}/*!sc*/
.hwvjtC a{color:var(--color-white);font-weight:bold;}/*!sc*/
.hwvjtC a:hover{color:var(--color-grey200);}/*!sc*/
.hwvjtC .footer-col > p{margin:0;}/*!sc*/
.hwvjtC .footer-title{font-size:0.83em;margin:0 0 1rem;}/*!sc*/
.hwvjtC .footer-item{color:var(--color-white);}/*!sc*/
.hwvjtC .footer-item a{padding:0.25rem 0;display:block;}/*!sc*/
.hwvjtC .footer-heart{color:var(--color-red);}/*!sc*/
.hwvjtC .footer-item-text{padding:0.1rem 0;color:var(--color-white);}/*!sc*/
.hwvjtC .footer-header{-webkit-order:1;-ms-flex-order:1;order:1;margin:0 0.25rem;margin-right:0.25rem;padding:0.25rem;}/*!sc*/
.hwvjtC .footer-column-items{grid-template-columns:1fr;display:grid;}/*!sc*/
@media (max-width:564px){.hwvjtC .footer-col:first-child{width:100%;}}/*!sc*/
data-styled.g19[id="Footer__FooterWrapper-t92llg-0"]{content:"hwvjtC,"}/*!sc*/
*{box-sizing:border-box;margin:0;padding:0;}/*!sc*/
body{font-family:"Lato",sans-serif;color:var(--color-text);background-color:var(--color-siteBackground);}/*!sc*/
img{max-width:100%;height:auto;vertical-align:middle;border:0;}/*!sc*/
a{-webkit-text-decoration:none;text-decoration:none;color:var(--color-text);}/*!sc*/
hr{border:0;border-top:1px solid var(--color-grey100);margin:50px 0 5px 0;}/*!sc*/
ul,ol{padding-left:2em;margin:1em 0 0 0;}/*!sc*/
*::selection{background-color:var(--color-secondary);}/*!sc*/
data-styled.g20[id="sc-global-cGItRA1"]{content:"sc-global-cGItRA1,"}/*!sc*/
.jfgkKH{line-height:1.6;margin:1em 0 0 0;}/*!sc*/
data-styled.g22[id="Commons__Text-sc-1aaxjtz-1"]{content:"jfgkKH,"}/*!sc*/
.jkoHGO{display:inline-block;color:var(--color-textSecondary);margin:0 4px;}/*!sc*/
.jkoHGO::before{content:'•';}/*!sc*/
data-styled.g23[id="Commons__Bull-sc-1aaxjtz-2"]{content:"jkoHGO,"}/*!sc*/
.hfIdPk{text-transform:uppercase;color:var(--color-textSecondary);}/*!sc*/
data-styled.g24[id="Commons__ReadingTimeContainer-sc-1aaxjtz-3"]{content:"hfIdPk,"}/*!sc*/
.jArnjA{margin:0 0;}/*!sc*/
@media (min-width:700px){.jArnjA{margin:60px 0;}}/*!sc*/
data-styled.g25[id="layout__SiteContent-nrr2ov-0"]{content:"jArnjA,"}/*!sc*/
.FWRjg{position:relative;border-radius:5px;width:80%;max-width:770px;word-wrap:break-word;background-color:var(--color-wrapperBackground);margin:0px auto 30px auto;top:30px;padding:50px;box-shadow:0 0 0 0,0 6px 12px var(--color-wrapperShadow);}/*!sc*/
@media (max-width:780px){.FWRjg{width:100%;padding:25px;}}/*!sc*/
data-styled.g26[id="Wrapper-xmiwfw-0"]{content:"FWRjg,"}/*!sc*/
.koOaxo{padding-right:0.5rem;padding-bottom:0.2rem;}/*!sc*/
data-styled.g27[id="Flag__FlagImage-wxgzt8-0"]{content:"koOaxo,"}/*!sc*/
.hMJaQM{position:relative;display:table;width:100%;height:400px;overflow:hidden;background-repeat:no-repeat;background-position:center;background-size:cover;}/*!sc*/
data-styled.g31[id="Hero__HeroContainer-sc-1wsaguq-0"]{content:"hMJaQM,"}/*!sc*/
.kCjVvl{display:table-cell;vertical-align:middle;text-align:center;width:100%;}/*!sc*/
data-styled.g32[id="Hero__TitleContainer-sc-1wsaguq-1"]{content:"kCjVvl,"}/*!sc*/
.bcpvxV{font-weight:700;font-size:3rem;margin:10px 50px;color:var(--color-white);text-shadow:1px 1px 4px rgba(34,34,34,0.85);}/*!sc*/
data-styled.g33[id="Hero__HeroTitle-sc-1wsaguq-2"]{content:"bcpvxV,"}/*!sc*/
.cebvZk{display:inline;color:var(--color-textSecondary);}/*!sc*/
data-styled.g35[id="TagList__ListContainer-tgjq80-0"]{content:"cebvZk,"}/*!sc*/
.buEWrd{text-transform:uppercase;color:var(--color-textSecondary);}/*!sc*/
.buEWrd:not(:first-child){margin-left:0.3rem;}/*!sc*/
.buEWrd:hover{border-bottom:1px dotted var(--color-textSecondary);}/*!sc*/
.buEWrd:before{content:'#';}/*!sc*/
data-styled.g36[id="TagList__TagListItemLink-tgjq80-1"]{content:"buEWrd,"}/*!sc*/
.kWTzOK{text-transform:uppercase;color:var(--color-textSecondary);}/*!sc*/
.kWTzOK:not(:first-child){margin-left:0.3rem;}/*!sc*/
.kWTzOK:before{content:'#';}/*!sc*/
data-styled.g37[id="TagList__TagListItem-tgjq80-2"]{content:"kWTzOK,"}/*!sc*/
.dURHtg .author-image{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;position:absolute;top:-40px;left:50%;margin-left:-40px;width:80px;height:80px;border-radius:100%;overflow:hidden;padding:6px;z-index:2;box-shadow:#ececec 0 0 0 1px;background-color:var(--color-wrapperBackground);}/*!sc*/
.dURHtg .author-image .img{position:relative;display:block;width:100%;height:100%;background-size:cover;background-position:center center;border-radius:100%;}/*!sc*/
.dURHtg .author-profile .author-image{position:relative;left:auto;top:auto;width:120px;height:120px;padding:3px;margin:-100px auto 0 auto;box-shadow:none;}/*!sc*/
data-styled.g50[id="Bio__BioWrapper-d7fgaq-0"]{content:"dURHtg,"}/*!sc*/
.hjoJhH a{box-shadow:0 2px 0 0 var(--color-secondary);}/*!sc*/
.hjoJhH a:hover{-webkit-filter:brightness(150%);filter:brightness(150%);box-shadow:none;}/*!sc*/
data-styled.g51[id="Bio__BioText-d7fgaq-1"]{content:"hjoJhH,"}/*!sc*/
.csRXoD{color:var(--color-textSecondary);}/*!sc*/
data-styled.g55[id="Time__TimeContainer-sc-1u6vd0l-0"]{content:"csRXoD,"}/*!sc*/
.hcEWQc{margin-bottom:2rem;color:var(--color-textSecondary);font-size:0.9em;}/*!sc*/
data-styled.g56[id="ContentHeader__Header-sc-1qtxhip-0"]{content:"hcEWQc,"}/*!sc*/
.hcHehC{line-height:1.6;}/*!sc*/
.hcHehC > h2{color:var(--color-h2);padding-top:3rem;margin-top:3rem;border-top:1px solid #ececec;}/*!sc*/
.hcHehC > h3{padding-top:3rem;}/*!sc*/
.hcHehC > p{margin:1em 0 0 0;}/*!sc*/
.hcHehC a{fill:var(--color-text);box-shadow:0 2px 0 0 var(--color-secondary);}/*!sc*/
.hcHehC a:hover{-webkit-filter:brightness(150%);filter:brightness(150%);box-shadow:none;}/*!sc*/
.hcHehC a.anchor,.hcHehC a.gatsby-resp-image-link{box-shadow:none;}/*!sc*/
.hcHehC h1 .anchor svg,.hcHehC h2 .anchor svg,.hcHehC h3 .anchor svg,.hcHehC h4 .anchor svg,.hcHehC h5 .anchor svg,.hcHehC h6 .anchor svg{visibility:hidden;margin-left:-16px;}/*!sc*/
.hcHehC h1:hover .anchor svg,.hcHehC h2:hover .anchor svg,.hcHehC h3:hover .anchor svg,.hcHehC h4:hover .anchor svg,.hcHehC h5:hover .anchor svg,.hcHehC h6:hover .anchor svg,.hcHehC h1 .anchor:focus svg,.hcHehC h2 .anchor:focus svg,.hcHehC h3 .anchor:focus svg,.hcHehC h4 .anchor:focus svg,.hcHehC h5 .anchor:focus svg,.hcHehC h6 .anchor:focus svg{visibility:visible;}/*!sc*/
.hcHehC > blockquote{box-sizing:border-box;background-color:var(--color-secondaryContentBackground);border-left:5px solid var(--color-secondary);margin:30px 0px;padding:5px 20px;border-radius:0 8px 8px 0;}/*!sc*/
.hcHehC > blockquote p{margin:0.8em 0;font-style:italic;}/*!sc*/
.hcHehC .gatsby-highlight{border-radius:5px;font-size:15px;line-height:1.7;border-radius:10px;overflow:auto;tab-size:1.5em;margin:1.5em -1.5em;}/*!sc*/
@media (max-width:500px){.hcHehC .gatsby-highlight{border-radius:0;margin-left:-25px;margin-right:-25px;}}/*!sc*/
.hcHehC .gatsby-highlight > pre{border:0;margin:0;padding:1;}/*!sc*/
.hcHehC .gatsby-highlight pre[class*='language-']{float:left;min-width:100%;}/*!sc*/
.hcHehC .gatsby-highlight-code-line{background-color:var(--color-darkBlue);display:block;margin-right:-1em;margin-left:-1em;padding-right:1em;padding-left:0.75em;border-left:0.25em solid var(--color-yellow);}/*!sc*/
.hcHehC h1 > code.language-text,.hcHehC h2 > code.language-text,.hcHehC h3 > code.language-text,.hcHehC h4 > code.language-text,.hcHehC h5 > code.language-text,.hcHehC h6 > code.language-text,.hcHehC a > code.language-text,.hcHehC p > code.language-text,.hcHehC li > code.language-text,.hcHehC em > code.language-text,.hcHehC strong > code.language-text{background:var(--color-beige);color:#222222cc;padding:0 3px;font-size:0.94em;border-radius:0.3rem;word-wrap:break-word;}/*!sc*/
.hcHehC code{word-wrap:break-word;}/*!sc*/
.hcHehC table{margin-top:1em;margin-bottom:1em;border-collapse:collapse;overflow:hidden;}/*!sc*/
.hcHehC table th,.hcHehC table td{padding:0.5em;background-color:var(--color-secondaryContentBackground);}/*!sc*/
.hcHehC table tr{border-bottom:2px solid var(--color-white);}/*!sc*/
.hcHehC table tbody tr:last-child{border-bottom:none;}/*!sc*/
data-styled.g57[id="Content__ContentBody-p0bolz-0"]{content:"hcHehC,"}/*!sc*/
.ewDFMZ{padding:0 30px 30px;}/*!sc*/
@media only screen and (max-width:500px){.ewDFMZ{padding:0;}}/*!sc*/
data-styled.g58[id="Article__ArticleWrapper-jwdbi9-0"]{content:"ewDFMZ,"}/*!sc*/
.ixLXKm{position:relative;margin:6rem 0 0;padding:3rem 0 0;border-top:1px solid #ececec;}/*!sc*/
data-styled.g59[id="Article__ArticleFooter-jwdbi9-1"]{content:"ixLXKm,"}/*!sc*/
.cdiMpM{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:770px;width:80%;margin:0px auto 30px auto;top:20px;position:relative;}/*!sc*/
@media (max-width:780px){.cdiMpM{width:100%;padding:25px;}}/*!sc*/
data-styled.g60[id="PrevNextPost__PreviewContainer-sc-1r1qyep-0"]{content:"cdiMpM,"}/*!sc*/
.fTSIiu{cursor:pointer;-webkit-flex:1 1 300px;-ms-flex:1 1 300px;flex:1 1 300px;background-color:var(--color-secondaryContentBackground);box-shadow:0 0 0 0,0 6px 12px rgba(0,0,0,0.1);margin:20px 20px;border-radius:5px;}/*!sc*/
.fTSIiu:hover{box-shadow:0 0 0 0,0 6px 12px var(--color-grey300);-webkit-transition:all 0.3s ease;transition:all 0.3s ease;-webkit-transform:translate3D(0,-1px,0);-ms-transform:translate3D(0,-1px,0);transform:translate3D(0,-1px,0);}/*!sc*/
@media (min-width:780px){.fTSIiu:first-child{margin-left:0;}.fTSIiu:last-child{margin-right:0;}}/*!sc*/
data-styled.g61[id="PrevNextPost__Preview-sc-1r1qyep-1"]{content:"fTSIiu,"}/*!sc*/
.kHHerg{width:auto;height:200px;background:#c5d2d9 no-repeat 50%;background-size:cover;border-radius:5px 5px 0 0;}/*!sc*/
data-styled.g62[id="PrevNextPost__PreviewCover-sc-1r1qyep-2"]{content:"kHHerg,"}/*!sc*/
.jrkuJd{padding:20px;}/*!sc*/
.jrkuJd header{padding:0 0 10px 0;}/*!sc*/
.jrkuJd section{padding-bottom:10px;}/*!sc*/
.jrkuJd footer{font-size:0.8em;}/*!sc*/
data-styled.g63[id="PrevNextPost__PreviewContent-sc-1r1qyep-3"]{content:"jrkuJd,"}/*!sc*/
</style><title data-react-helmet="true">Utiliser Redis pour stocker le cache de Doctrine | Maxence Poutord</title><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=Lato:400,700&amp;display=swap" rel="stylesheet"/><link data-react-helmet="true" rel="canonical" href="https://www.maxpou.fr/cache-doctrine-avec-redis"/><meta data-react-helmet="true" name="description" content="La meilleur requête est celle que l&#x27;on a pas à faire
—  un inconnu Dans mon actuelle mission, nous développons une application sous Symfony…"/><meta data-react-helmet="true" property="og:url" content="https://www.maxpou.fr/cache-doctrine-avec-redis"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Utiliser Redis pour stocker le cache de Doctrine | Maxence Poutord"/><meta data-react-helmet="true" property="og:description" content="La meilleur requête est celle que l&#x27;on a pas à faire
—  un inconnu Dans mon actuelle mission, nous développons une application sous Symfony…"/><meta data-react-helmet="true" property="og:image" content="https://www.maxpou.fr/static/1171885bb2b718192a51704eb5605f07/header.png"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="_maxpou"/><meta data-react-helmet="true" name="twitter:title" content="Utiliser Redis pour stocker le cache de Doctrine | Maxence Poutord"/><meta data-react-helmet="true" name="twitter:description" content="La meilleur requête est celle que l&#x27;on a pas à faire
—  un inconnu Dans mon actuelle mission, nous développons une application sous Symfony…"/><meta data-react-helmet="true" name="twitter:image" content="https://www.maxpou.fr/static/1171885bb2b718192a51704eb5605f07/header.png"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://www.maxpou.fr/cache-doctrine-avec-redis","name":"Utiliser Redis pour stocker le cache de Doctrine | Maxence Poutord","alternateName":"Utiliser Redis pour stocker le cache de Doctrine | Maxence Poutord"},{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://www.maxpou.fr/cache-doctrine-avec-redis","name":"Utiliser Redis pour stocker le cache de Doctrine | Maxence Poutord","image":"https://www.maxpou.fr/static/1171885bb2b718192a51704eb5605f07/header.png"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://www.maxpou.fr/cache-doctrine-avec-redis","name":"Utiliser Redis pour stocker le cache de Doctrine | Maxence Poutord","alternateName":"Utiliser Redis pour stocker le cache de Doctrine | Maxence Poutord","headline":"Utiliser Redis pour stocker le cache de Doctrine | Maxence Poutord","image":{"@type":"ImageObject","url":"https://www.maxpou.fr/static/1171885bb2b718192a51704eb5605f07/header.png"},"description":"La meilleur requête est celle que l'on a pas à faire\n—  un inconnu Dans mon actuelle mission, nous développons une application sous Symfony…","author":{"@type":"Person"},"publisher":{"@type":"Organization"},"mainEntityOfPage":{"@type":"WebSite","@id":"https://www.maxpou.fr/cache-doctrine-avec-redis"}}]</script><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="icon" href="/favicon-32x32.png?v=4a9773549091c227cd2eb82ccd9c5e3a" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#222222"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><style>html { 
--color-grey100: undefined;
--color-grey200: undefined;
--color-grey300: undefined;
--color-grey400: undefined;
--color-grey500: undefined;
--color-grey600: undefined;
--color-grey700: undefined;
--color-grey800: undefined;
--color-grey900: undefined;
--color-white: undefined;
--color-yellow: undefined;
--color-lightYellow: undefined;
--color-blueGreyed: undefined;
--color-darkBlue: undefined;
--color-beige: undefined;
--color-red: undefined;
--color-text: #3E4047;
--color-textSecondary: #546c77;
--color-siteBackground: #f4f8fb;
--color-wrapperBackground: #ffffff;
--color-secondaryContentBackground: #f7f7f7;
--color-wrapperShadow: #0000001a;
--color-primary: #3E4047;
--color-primaryAlpha: rgba(32, 35, 42, 0.85);
--color-secondary: #ffdc4e;
--color-h2: #3E4047; }</style><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="preconnect" href="https://plausible.io"/><script async="" defer="" data-domain="maxpou.fr" src="https://plausible.io/js/plausible.js"></script><script>
          window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) };
          
          </script><link rel="icon" href="/favicon-32x32.png?v=9760e642bf7a05b3ba35950d80435566" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#222222"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=9760e642bf7a05b3ba35950d80435566"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=9760e642bf7a05b3ba35950d80435566"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=9760e642bf7a05b3ba35950d80435566"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=9760e642bf7a05b3ba35950d80435566"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=9760e642bf7a05b3ba35950d80435566"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=9760e642bf7a05b3ba35950d80435566"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=9760e642bf7a05b3ba35950d80435566"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=9760e642bf7a05b3ba35950d80435566"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="alternate" type="application/rss+xml" title="Maxence Poutord • Maxpou Blog (EN)" href="/rss-en.xml"/><link rel="alternate" type="application/rss+xml" title="Maxence Poutord • Maxpou Blog (FR)" href="/rss-fr.xml"/><link rel="alternate" type="application/rss+xml" title="Maxence Poutord • Maxpou Blog" href="/rss.xml"/><link as="script" rel="preload" href="/cd67464b56c598a654fc65ad34d4a5dd4dc63f41-ab99e105572409bc2d21.js"/><link as="script" rel="preload" href="/framework-cb37257835832d9565ad.js"/><link as="script" rel="preload" href="/app-1b85119561676c67c6f2.js"/><link as="script" rel="preload" href="/component---node-modules-gatsby-starter-morning-dew-src-templates-blog-post-js-90a1a5a368647b898f99.js"/><link as="script" rel="preload" href="/75f61cbc8b4957b70288e42efd9d48e28ad28b43-b16c82e344eb755bd862.js"/><link as="script" rel="preload" href="/ab9c96887abbdab8097b4b7a6b0aea47141cbaf6-2bff262f7eafc6b968da.js"/><link as="script" rel="preload" href="/styles-7d4153d260c0197f0043.js"/><link as="script" rel="preload" href="/webpack-runtime-6541d42a9ee1faf472db.js"/><link as="fetch" rel="preload" href="/page-data/cache-doctrine-avec-redis/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1956263691.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2749999020.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>!function(){const e=window.matchMedia("(prefers-color-scheme: dark)").matches,r=localStorage.getItem("color-mode");let t="light";t="string"==typeof r?r:e?"dark":"light";let f=document.documentElement;f.style.setProperty("--initial-color-mode",t),Object.entries({grey100:"#ECECED",grey200:"#CFCFD1",grey300:"#B2B3B5",grey400:"#78797E",grey500:"#3E4047",grey600:"#383A40",grey700:"#25262B",grey800:"#1C1D20",grey900:"#131315",white:"#ffffff",yellow:"#ffdc4e",lightYellow:"#f9e892",blueGreyed:"#546c77",darkBlue:"#022a4b",beige:"#fff9d9",red:"#ff0000",text:{light:"#3E4047",dark:"#ffffff"},textSecondary:{light:"#546c77",dark:"#c6d8e0"},siteBackground:{light:"#f4f8fb",dark:"#3E4047"},wrapperBackground:{light:"#ffffff",dark:"#3E4047"},secondaryContentBackground:{light:"#f7f7f7",dark:"#3a3a3a"},wrapperShadow:{light:"#0000001a",dark:"#00000000"},primary:{light:"#3E4047",dark:"#3E4047"},primaryAlpha:{light:"rgba(32, 35, 42, 0.85)",dark:"rgba(32, 35, 42, 0.85)"},secondary:{light:"#ffdc4e",dark:"#ffdc4e"},h2:{light:"#3E4047",dark:"#ffdc4e"}}).forEach(([e,r])=>{const a="--color-"+e;"object"==typeof r?f.style.setProperty(a,r[t]):f.style.setProperty(a,r)})}();</script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header class="Header__HeaderWrapper-sc-1glvhxp-0 gIYuzT"><nav class="Header__HeaderNav-sc-1glvhxp-1 kvPCEs"><a href="#main-content" class="Header__SkipMainContent-sc-1glvhxp-8 hwenbc">Skip to main content</a><a aria-label="View home page" class="Header__HeaderLink-sc-1glvhxp-3 Header__HeaderLinkTitle-sc-1glvhxp-4 jIcFfD fbaxEU" href="/"><span class="Header__HeaderLinkTitleContent-sc-1glvhxp-5 dlNRyU">maxpou.fr</span></a><div class="Header__HeaderLinksContainer-sc-1glvhxp-2 eBGaRO"><a aria-label="View Blog page" class="Header__HeaderLink-sc-1glvhxp-3 jIcFfD" href="/">Blog</a><a aria-label="View Speaking page" class="Header__HeaderLink-sc-1glvhxp-3 jIcFfD" href="/speaking">Speaking</a><a aria-label="View About page" class="Header__HeaderLink-sc-1glvhxp-3 jIcFfD" href="/about">About</a></div><button aria-label="open menu" class="Header__BurgerButton-sc-1glvhxp-10 bQrabR"><div class="Header__BurgerContent-sc-1glvhxp-11 kJkJgP"></div></button></nav></header><div class="layout__SiteContent-nrr2ov-0 jArnjA"><div style="background-image:url(&quot;/static/1171885bb2b718192a51704eb5605f07/header.png&quot;)" class="Hero__HeroContainer-sc-1wsaguq-0 hMJaQM"><div class="Hero__TitleContainer-sc-1wsaguq-1 kCjVvl"><h1 class="Hero__HeroTitle-sc-1wsaguq-2 bcpvxV">Utiliser Redis pour stocker le cache de Doctrine</h1></div></div><main role="main" id="main-content" class="Wrapper-xmiwfw-0 FWRjg"><article class="Article__ArticleWrapper-jwdbi9-0 ewDFMZ"><section><header class="ContentHeader__Header-sc-1qtxhip-0 hcEWQc"><time class="Time__TimeContainer-sc-1u6vd0l-0 csRXoD">March 8, 2016</time><span class="Commons__Bull-sc-1aaxjtz-2 jkoHGO"></span><div class="TagList__ListContainer-tgjq80-0 cebvZk"><a class="TagList__TagListItemLink-tgjq80-1 buEWrd" href="/tags/Symfony2">Symfony2</a>, <a class="TagList__TagListItemLink-tgjq80-1 buEWrd" href="/tags/Doctrine">Doctrine</a>, <a class="TagList__TagListItemLink-tgjq80-1 buEWrd" href="/tags/Redis">Redis</a></div></header><div class="Content__ContentBody-p0bolz-0 hcHehC"><blockquote><p>La meilleur requête est celle que l’on a pas à faire
— <strong>un inconnu</strong></p></blockquote><p>Dans mon actuelle mission, nous développons une application sous Symfony2 avec Doctrine comme ORM.
Voici grossièrement à quoi ressemble l’architecture globale :</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:590px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:58.78378378378378%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABcSAAAXEgFnn9JSAAADOklEQVQoz22Tf1CLcRzHP8/TDyyrROnmuMzP46bzK8sWjtWosOhycU7MMoXEUtqamNra+mEada2yYS5Ol+YOba1rXJ2jtMIJOXSVnU5FzvlDvr7Pk/7rc/e+53l/nvu+vp/P8/l+QVvfDO/cI4AQAioq26WEspGP/Qh4eBIs76leS3B6FpYf1hQSPNj4uQBrKkwW+tvWg72DwxIM3EX5W90nQdO2EYqfbae/d/2ohYu56nCJRGpZxw1X4BTp783yJKYBMSnwhOkRqmt9hXmor+alJiT36eqAsq7EIH3HzkB1447ZCN3zihKtV4Rz+SiUs8q9m5U1gxsogsyYMqLB/pB0Op2k2WwGShaLBSBbXTJ2IlOBqqoqepzfrizJbQljGTri5112iebqnLtCOhHf91jGIWV0tBCdTpMNqSKtsbgOwiR5Ds0tDnA4HPTvYrPZ4xX/+NrPvVSs45lMN0Ipf7cvHYpebAV9hwguvl4GdT1q6B90z5Gfqc573Pom/o8dMZIXlXMwhLA1NoTb7fYN1HtwcPB4y+jvKJw8ehgyzmTT/m5/GlH8IprAQML5JJukdsfy+SLP7OxVKpKf7TkFB72VM7QJ1qSampqfNpvtT2pq6nK8NMgfByir78Dw7zG67MQPAMauJKKwXUgDXS7tBHD6QFbG+9GSotQHWw6AePq5mZq4e/uNRuNHq9U6IBaLF1NAXxygv3N/24c+dyxeFAGFAKY3R0DXHkm3XDayBsqaZFB5rXrh/r2KSs7KTdIsro6ZtuI6B8AX8tQqtrHCSMGAwWCMtyy70YAcLz9TU3abXfKl+W0RrKudCfRQVI9i5n9HUj9hHO88j8dHq0LDhiVLL8fSVd9GkF94AaqqqunumEzm+FDSVUUoRZaNLDevf2odMoWcfcwJuNKRQB+baz0HZiHUTIqPJ2YKBAKUIk3pRS7E2Lc1hYbkF6jI2tpa0mAwQGlpKWg0GoC3rzrjtAWa+PLyCgG1gfOXFgraNkNJ2w6YuB2GS+V8RY6iot5aL+MJ1gbiXKAPk+E16cFuabJBskQMcnkO7ZtHdaDvjoILDULw8CZmMv0Ys3Hah7oh/xVEepAU1HMy3j/E4m3RxWj2xQAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/0340deb42b7103aa574a14527451c2ab/cbe2e/architecture.webp 148w,/static/0340deb42b7103aa574a14527451c2ab/3084c/architecture.webp 295w,/static/0340deb42b7103aa574a14527451c2ab/5ca24/architecture.webp 590w,/static/0340deb42b7103aa574a14527451c2ab/487e2/architecture.webp 625w" sizes="(max-width: 590px) 100vw, 590px" type="image/webp"/>
          <source srcSet="/static/0340deb42b7103aa574a14527451c2ab/12f09/architecture.png 148w,/static/0340deb42b7103aa574a14527451c2ab/e4a3f/architecture.png 295w,/static/0340deb42b7103aa574a14527451c2ab/fcda8/architecture.png 590w,/static/0340deb42b7103aa574a14527451c2ab/80d71/architecture.png 625w" sizes="(max-width: 590px) 100vw, 590px" type="image/png"/>
          <img class="gatsby-resp-image-image" src="/static/0340deb42b7103aa574a14527451c2ab/fcda8/architecture.png" alt="architecture globale" title="architecture globale" loading="lazy" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
    </span></p><p>Comme vous le voyez, l’application est dédoublée sur deux serveurs distincts qui ont interdiction de se parler, en dehors de la base de données. Nous avons été confrontés à des problématiques de performances qui nous a contraint d’utiliser le <strong>cache de Doctrine</strong>.</p><p>Il faut savoir qu’il y a <a href="http://doctrine-orm.readthedocs.org/en/latest/reference/caching.html">3 types de cache pour Doctrine</a> :</p><ul><li>Query Cache : transformation DQL -&gt; SQL;</li><li>Result Cache : résultat de la requête;</li><li>Metadata Cache : annotation des entities.</li></ul><p>Si on regarde <a href="http://doctrine-orm.readthedocs.org/en/latest/reference/caching.html#cache-drivers">la liste des drivers</a>, on s’aperçoit qu’il n’est pas évident de mutualiser du cache entre plusieurs serveur (qui ne peuvent pas communiquer directement ensemble).</p><p>C’est là que Redis arrive ♥</p><p>En quelques mots, Redis (pour <em>REmote DIctionary Server</em>) est un SGBD <strong>clé-valeur</strong> qui s’inscrit dans la mouvance NoSQL. En plus d’être simple d’utilisation, sa performance qui ferait pâlir Usain Bolt. Cela est principalement dû au fait que tout est persisté dans le cache du serveur. Si vous doutez encore de cette dernière phrase, sachez que <a href="http://highscalability.com/blog/2012/4/2/youporn-targeting-200-million-views-a-day-and-beyond.html">YouPorn</a>, <a href="http://nickcraver.com/blog/2016/02/17/stack-overflow-the-architecture-2016-edition/">Stack Overflow</a>, <a href="https://github.com/blog/530-how-we-made-github-fast">Github</a>… l’utilisent ;-)</p><p>Voici un exemple de fonctionnement :</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token operator">&gt;</span> SET name <span class="token string">&quot;maxence&quot;</span>
OK
<span class="token operator">&gt;</span> GET name
<span class="token string">&quot;maxence&quot;</span>
<span class="token operator">&gt;</span> KEYS *
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;name&quot;</span>
<span class="token comment"># Assigner un TTL sur une variable</span>
<span class="token operator">&gt;</span> SETEX mission <span class="token number">10</span> <span class="token string">&quot;votre mission si vous l&#x27;acceptez... ce message s&#x27;autodétruira dans 10s&quot;</span>
OK
<span class="token comment"># 10&#x27; après, le couple clef/valeur a disparu</span>
<span class="token operator">&gt;</span> GET mission
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span></code></pre></div><h2 id="installation" style="position:relative"><a href="#installation" aria-label="installation permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation</h2><p>L’installation de Redis est plutôt simple et se fait en quelques lignes de commande :</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># download</span>
<span class="token function">wget</span> http://download.redis.io/redis-stable.tar.gz
<span class="token function">tar</span> xvzf redis-stable.tar.gz
<span class="token builtin class-name">cd</span> redis-stable
<span class="token function">make</span>
<span class="token comment"># install</span>
<span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span>
<span class="token comment"># start</span>
redis-server</code></pre></div><p>Il va ensuite falloir installer les bundles qui vont bien :</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">composer</span> require snc/redis-bundle <span class="token number">2</span>.x-dev
<span class="token function">composer</span> require predis/predis ^1.0</code></pre></div><p>Et on modifie le app/AppKernel.php:</p><div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">registerBundles</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$bundles</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
        <span class="token comment">// ...</span>
        <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified">Snc<span class="token punctuation">\</span>RedisBundle<span class="token punctuation">\</span>SncRedisBundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span></span></code></pre></div><p>Dans le config.yml :</p><div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">imports</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token punctuation">{</span> <span class="token key atrule">resource</span><span class="token punctuation">:</span> redis.yml <span class="token punctuation">}</span>

<span class="token comment"># Doctrine Configuration</span>
<span class="token key atrule">doctrine</span><span class="token punctuation">:</span>
    <span class="token key atrule">dbal</span><span class="token punctuation">:</span>
        <span class="token comment">#...</span>
    <span class="token key atrule">orm</span><span class="token punctuation">:</span>
        <span class="token key atrule">auto_generate_proxy_classes</span><span class="token punctuation">:</span> <span class="token string">&quot;%kernel.debug%&quot;</span>
        <span class="token key atrule">naming_strategy</span><span class="token punctuation">:</span> doctrine.orm.naming_strategy.underscore
        <span class="token comment"># IMPORTANT!</span>
        <span class="token key atrule">auto_mapping</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
        <span class="token key atrule">metadata_cache_driver</span><span class="token punctuation">:</span> redis
        <span class="token key atrule">query_cache_driver</span><span class="token punctuation">:</span> redis

<span class="token comment"># redis.yml</span>
<span class="token key atrule">snc_redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">clients</span><span class="token punctuation">:</span>
        <span class="token key atrule">default</span><span class="token punctuation">:</span>
            <span class="token key atrule">type</span><span class="token punctuation">:</span> predis
            <span class="token key atrule">alias</span><span class="token punctuation">:</span> default
            <span class="token key atrule">dsn</span><span class="token punctuation">:</span> redis<span class="token punctuation">:</span>//1.2.3.4
        <span class="token key atrule">doctrine</span><span class="token punctuation">:</span>
            <span class="token key atrule">type</span><span class="token punctuation">:</span> predis
            <span class="token key atrule">alias</span><span class="token punctuation">:</span> doctrine
            <span class="token key atrule">dsn</span><span class="token punctuation">:</span> redis<span class="token punctuation">:</span>//1.2.3.4
    <span class="token key atrule">doctrine</span><span class="token punctuation">:</span>
        <span class="token key atrule">metadata_cache</span><span class="token punctuation">:</span>
            <span class="token key atrule">client</span><span class="token punctuation">:</span> doctrine
            <span class="token key atrule">entity_manager</span><span class="token punctuation">:</span> default
            <span class="token key atrule">document_manager</span><span class="token punctuation">:</span> default
        <span class="token key atrule">result_cache</span><span class="token punctuation">:</span>
            <span class="token key atrule">client</span><span class="token punctuation">:</span> doctrine
            <span class="token key atrule">entity_manager</span><span class="token punctuation">:</span> default
        <span class="token key atrule">query_cache</span><span class="token punctuation">:</span>
            <span class="token key atrule">client</span><span class="token punctuation">:</span> doctrine
            <span class="token key atrule">entity_manager</span><span class="token punctuation">:</span> default</code></pre></div><p>Et voilà pour l’installation.<br/>
<!-- -->A ce stade, seuls les caches de metadata et de query sont opérationnels. Pour la mise en cache du résultat, il faudra le faire <strong>manuellement sur chaque requête</strong>.</p><h2 id="mettre-en-cache-le-résultat" style="position:relative"><a href="#mettre-en-cache-le-r%C3%A9sultat" aria-label="mettre en cache le résultat permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mettre en cache le résultat</h2><p>Terminé les requêtes <em>inlines</em> dans les controllers ! Vous allez désormais devoir utiliser le <abbr title="Doctrine Query Language">DQL</abbr> ou le QueryBuilder.</p><div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">findBeers</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$query</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">getEntityManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token operator">-&gt;</span><span class="token function">createQuery</span><span class="token punctuation">(</span>
            <span class="token string single-quoted-string">&#x27;select beers from MaxpouBeerBundle:Beers b&#x27;</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">;</span>

    <span class="token variable">$query</span><span class="token operator">-&gt;</span><span class="token function">useResultCache</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$query</span><span class="token operator">-&gt;</span><span class="token function">setResultCacheLifetime</span><span class="token punctuation">(</span><span class="token number">3600</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//3600sec = 1 hour</span>

    <span class="token keyword">return</span> <span class="token variable">$query</span><span class="token operator">-&gt;</span><span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></span></code></pre></div><p>Maintenant, si l’on recharge la page, cette requête ne se fera plus via MySQL mais bien via Redis.
On peut vérifier tout cela en allant sur Redis et en rentrant la commande suivante : <code class="language-text">KEYS *</code>.
Voici ce que l’on va avoir :</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token operator">&gt;</span> KEYS *
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;[Maxpou<span class="token entity" title="\\">\\</span>BeerBundle<span class="token entity" title="\\">\\</span>Entity<span class="token entity" title="\\">\\</span>Beer<span class="token variable">$CLASSMETADATA</span>][1]&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;[809cd863587594a754a7ffda5c2c06ee4640ebe3][1]&quot;</span></code></pre></div><p>La première ligne va contenir les métadonnées de la classe Beer. La seconde, contiendra la requête <strong>et</strong> son résultat.
Si vous voulez avoir une clé un peu plus digeste, vous pouvez utiliser cette méthode <code class="language-text">$query-&gt;setResultCacheId(&#x27;my_wonderful_key&#x27;);</code> ou même faire <strong>1 pierre 3 coups</strong> : <code class="language-text">$query-&gt;useResultCache(true, 3600, &#x27;my_wonderful_key&#x27;);</code>.</p><p>Voici ce que nous aurons : (je n’ai pas réussi à supprimer le <code class="language-text">[1]</code>)</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token operator">&gt;</span> KEYS *
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;[Maxpou<span class="token entity" title="\\">\\</span>BeerBundle<span class="token entity" title="\\">\\</span>Entity<span class="token entity" title="\\">\\</span>Beer<span class="token variable">$CLASSMETADATA</span>][1]&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;[my_wonderful_key][1]&quot;</span></code></pre></div><p>Pour nettoyer le cache, voici quelques commandes :</p><div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># Nettoyer cache des queries</span>
php app/console doctrine:cache:clear-query
<span class="token comment"># Nettoyer cache des metadatas</span>
php app/console doctrine:cache:clear-metadata
<span class="token comment"># Nettoyer cache des résultats</span>
php app/console doctrine:cache:clear-result
<span class="token comment"># Vider la base redis</span>
php app/console redis:flushdb</code></pre></div><h2 id="invalider-le-cache-des-requêtes" style="position:relative"><a href="#invalider-le-cache-des-requ%C3%AAtes" aria-label="invalider le cache des requêtes permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Invalider le cache des requêtes</h2><p>C’est bien de mettre en place un système de cache, mais vous n’allez pas demander à vos utilisateurs de lancer la commande après chaque opération. Il va donc falloir utiliser les événements de Doctrine, et plus particulièrement l’<a href="http://doctrine-orm.readthedocs.org/projects/doctrine-orm/en/latest/reference/events.html#entity-listeners">entity listeners</a>
Si vous faites des tests, pensez à commenter le cache des métadonnées ;-)</p><p>Définissez le service :</p><div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">Maxpou<span class="token punctuation">\</span>BeerBundle<span class="token punctuation">\</span>Service</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Doctrine<span class="token punctuation">\</span>ORM<span class="token punctuation">\</span>Event<span class="token punctuation">\</span>LifecycleEventArgs</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Maxpou<span class="token punctuation">\</span>BeerBundle<span class="token punctuation">\</span>Entity<span class="token punctuation">\</span>Beer</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">BeerListener</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token variable">$cacheDriver</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token variable">$cacheDriver</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">cacheDriver</span> <span class="token operator">=</span> <span class="token variable">$cacheDriver</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">postPersist</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Beer</span> <span class="token variable">$beer</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">LifecycleEventArgs</span> <span class="token variable">$args</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">cacheDriver</span><span class="token operator">-&gt;</span><span class="token function">expire</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#x27;[beers_all][1]&#x27;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">postUpdate</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Beer</span> <span class="token variable">$beer</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">LifecycleEventArgs</span> <span class="token variable">$args</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">cacheDriver</span><span class="token operator">-&gt;</span><span class="token function">expire</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#x27;[beers_all][1]&#x27;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">postRemove</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Beer</span> <span class="token variable">$beer</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">LifecycleEventArgs</span> <span class="token variable">$args</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">cacheDriver</span><span class="token operator">-&gt;</span><span class="token function">expire</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#x27;[beers_all][1]&#x27;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></code></pre></div><p>Ici, <code class="language-text">beer_all</code> est le nom de l’id assigné au cache.</p><p>Le service.yml :</p><div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">beer_listener</span><span class="token punctuation">:</span>
    <span class="token key atrule">class</span><span class="token punctuation">:</span> Maxpou\BeerBundle\Service\BeerListener
    <span class="token key atrule">arguments</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token string">&quot;@snc_redis.doctrine&quot;</span>
    <span class="token key atrule">tags</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token punctuation">{</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> doctrine.orm.entity_listener <span class="token punctuation">}</span></code></pre></div><p>Et enfin l’annotation sur l’entity :</p><div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">/**
 * Beer
 *
 * @ORM\Table(name=&quot;beers&quot;)
 * @ORM\Entity(repositoryClass=&quot;Maxpou\BeerBundle\Repository\BeerRepository&quot;)
 * @ORM\EntityListeners({&quot;Maxpou\BeerBundle\Service\BeerListener&quot;})
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Beer</span> <span class="token keyword">implements</span> <span class="token class-name">BeerInterface</span>
<span class="token punctuation">{</span>
<span class="token comment">//...</span></span></code></pre></div><p>Les plus pointilleux d’entre vous auront remarqués que je redéfini le TTL de ma clef au lieu de la supprimer. En effet, si je supprime ma clef, la nouvelle clef créée sera <code class="language-text">[beers_all][2]</code>. Et le compteur augmentera ainsi de suite…<br/>
<!-- -->Avec cette technique <s>de fainéant</s>, on garde la main sur le nom de la clef qui sera toujours <code class="language-text">[beers_all][1]</code>.</p><h2 id="pour-aller-plus-loin" style="position:relative"><a href="#pour-aller-plus-loin" aria-label="pour aller plus loin permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pour aller plus loin</h2><ul><li>Tutoriel/Sandbox Redis : <a href="http://try.redis.io">http://try.redis.io</a></li><li><a href="http://doctrine-orm.readthedocs.org/projects/doctrine-orm/en/latest/reference/second-level-cache.html">2e niveau de cache de Doctrine (encore à l’état expérimental)</a></li></ul><h2 id="tips" style="position:relative"><a href="#tips" aria-label="tips permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tips</h2><p>Utiliser les pipes unix avec le redis-cli : <code class="language-text">echo  &quot;KEYS *&quot; | ./path/to/redis-cli | grep beer</code><br/>
<!-- -->Vérifier le <abbr title="Time To Live">TTL</abbr> d’une clef: <code class="language-text">TTL [beer-id-42][1]</code></p></div></section><footer class="Article__ArticleFooter-jwdbi9-1 ixLXKm"><div class="Bio__BioWrapper-d7fgaq-0 dURHtg"><figure class="author-image"><div alt="Maxence Poutord" style="background-image:url(&quot;/static/9760e642bf7a05b3ba35950d80435566/2244e/avatar.jpg&quot;)" class="img"></div></figure><section><h4>About the author</h4><p class="Commons__Text-sc-1aaxjtz-1 Bio__BioText-d7fgaq-1 jfgkKH hjoJhH">
  Maxence Poutord is a software engineer specialized in web technologies. 
  On his day to day job, he is working as a senior front-end engineer at VSware.
  As a digital nomad, he lives where the WiFi and sun are!<br>
  You can also find him on Twitter <a href="https://twitter.com/_maxpou" rel="noopener" target="_blank">@_maxpou</a>.
  </p></section></div></footer></article></main><aside class="Wrapper-xmiwfw-0 FWRjg"><div shortname="maxpou" config="[object Object]" id="disqus_thread"></div></aside><aside class="PrevNextPost__PreviewContainer-sc-1r1qyep-0 cdiMpM"><article class="PrevNextPost__Preview-sc-1r1qyep-1 fTSIiu"><a aria-label="View Productivité Ninja ! article" href="/productivite-ninja"><div style="background-image:url(&quot;/static/eec960b0c4fdc35fe78d195d1d7b8287/abstract-5.jpg&quot;)" class="PrevNextPost__PreviewCover-sc-1r1qyep-2 kHHerg"></div><div class="PrevNextPost__PreviewContent-sc-1r1qyep-3 jrkuJd"><header><h2><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAKnRFWHRDcmVhdGlvbiBUaW1lAEZyIDkgTm92IDIwMDcgMTY6Mjc6MDYgKzAxMDAM3ZqdAAAAB3RJTUUH1wsJDxwzm8yD2gAAAAlwSFlzAAALEgAACxIB0t1+/AAAAARnQU1BAACxjwv8YQUAAAHdSURBVHjaxVO7btRAFD3zsNdxQIqQqBYk6ghR0tLxDXwCn8HX0BGlo6JCKAqCIlVCkCjQLgkgxbDB67XnlXPHRvsJGWs04/F53ZkxcNtNvXj5arG7uzf3KfJNIUSFh/dn2H9Qc564pABj0Z98hPt6CsVHyzoCrv6tl/bO3Xvzx0+fw0cveugp8ORRjWf7e1lAmi5naKuAHh2QSI4RpQbeHBzOrSfIBQ/vAzWRE8jcDQNCQk4g3TtinMtkEUHfIaxW0OIqa55rMTEYu3xXWm/r1AYZ5AYolqoJ6D4dU1jDCjFkMrskoFukKG2ys56EFEkyC38abE4+w1z/heU3K0Q/OUchp0zNxCCuU+sX37F69xZYt9CmQDHKUYDwQMPIONpo9A5o2gH9ZoPBjwKm5h78/glcs+ayylQtpyOjQFLS2fnovMHrDz9wftEixTACJKY1HFUmZbIk5GM4WkWyI/bg+AJD0CjKAmVhMlFPpchmaWUm4v8+HrElAu/Pmnz+RWmReGmU2QoYmRsRQHYdE2CbYMOaF51HOWNt1iJSoODFqeSd9YlAUe2g4+gVpjI0ZmoUspe/Lpfdqpk7cWH0QN0zVeOwqxnSjJtYVWi/fEO/DlDWZ2chX4W0vO1/EbgBHTnbxGOMU+UAAAAASUVORK5CYII=" alt="post en francais" class="Flag__FlagImage-wxgzt8-0 koOaxo flag"/>Productivité Ninja !</h2></header><section><p>Entre le  multitasking , les mails pro, les notifications push sur votre téléphone (SMS, mail perso, Facebook, Twitter...), un collègue qui…</p></section><footer><span class="Commons__ReadingTimeContainer-sc-1aaxjtz-3 hfIdPk">7<!-- --> min read</span><span class="Commons__Bull-sc-1aaxjtz-2 jkoHGO"></span><div class="TagList__ListContainer-tgjq80-0 cebvZk"><span to="/tags/Productivity" class="TagList__TagListItem-tgjq80-2 kWTzOK">Productivity</span>, <span to="/tags/TimeManagement" class="TagList__TagListItem-tgjq80-2 kWTzOK">TimeManagement</span></div></footer></div></a></article><article class="PrevNextPost__Preview-sc-1r1qyep-1 fTSIiu"><a aria-label="View Une stack Docker pour votre application Symfony article" href="/docker-pour-symfony"><div style="background-image:url(&quot;/static/5c0fc80016b5712b22430194cdb7ba81/bg-intro.jpg&quot;)" class="PrevNextPost__PreviewCover-sc-1r1qyep-2 kHHerg"></div><div class="PrevNextPost__PreviewContent-sc-1r1qyep-3 jrkuJd"><header><h2><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAKnRFWHRDcmVhdGlvbiBUaW1lAEZyIDkgTm92IDIwMDcgMTY6Mjc6MDYgKzAxMDAM3ZqdAAAAB3RJTUUH1wsJDxwzm8yD2gAAAAlwSFlzAAALEgAACxIB0t1+/AAAAARnQU1BAACxjwv8YQUAAAHdSURBVHjaxVO7btRAFD3zsNdxQIqQqBYk6ghR0tLxDXwCn8HX0BGlo6JCKAqCIlVCkCjQLgkgxbDB67XnlXPHRvsJGWs04/F53ZkxcNtNvXj5arG7uzf3KfJNIUSFh/dn2H9Qc564pABj0Z98hPt6CsVHyzoCrv6tl/bO3Xvzx0+fw0cveugp8ORRjWf7e1lAmi5naKuAHh2QSI4RpQbeHBzOrSfIBQ/vAzWRE8jcDQNCQk4g3TtinMtkEUHfIaxW0OIqa55rMTEYu3xXWm/r1AYZ5AYolqoJ6D4dU1jDCjFkMrskoFukKG2ys56EFEkyC38abE4+w1z/heU3K0Q/OUchp0zNxCCuU+sX37F69xZYt9CmQDHKUYDwQMPIONpo9A5o2gH9ZoPBjwKm5h78/glcs+ayylQtpyOjQFLS2fnovMHrDz9wftEixTACJKY1HFUmZbIk5GM4WkWyI/bg+AJD0CjKAmVhMlFPpchmaWUm4v8+HrElAu/Pmnz+RWmReGmU2QoYmRsRQHYdE2CbYMOaF51HOWNt1iJSoODFqeSd9YlAUe2g4+gVpjI0ZmoUspe/Lpfdqpk7cWH0QN0zVeOwqxnSjJtYVWi/fEO/DlDWZ2chX4W0vO1/EbgBHTnbxGOMU+UAAAAASUVORK5CYII=" alt="post en francais" class="Flag__FlagImage-wxgzt8-0 koOaxo flag"/>Une stack Docker pour votre application Symfony</h2></header><section><p>05/07/2016  : màj du docker-compose (suppression conteneur code+alias) + màj schéma + ajout PHPMyAdmin + simplification toolbox. Un grand…</p></section><footer><span class="Commons__ReadingTimeContainer-sc-1aaxjtz-3 hfIdPk">2<!-- --> min read</span><span class="Commons__Bull-sc-1aaxjtz-2 jkoHGO"></span><div class="TagList__ListContainer-tgjq80-0 cebvZk"><span to="/tags/Docker" class="TagList__TagListItem-tgjq80-2 kWTzOK">Docker</span>, <span to="/tags/Symfony2" class="TagList__TagListItem-tgjq80-2 kWTzOK">Symfony2</span>, <span to="/tags/PHP" class="TagList__TagListItem-tgjq80-2 kWTzOK">PHP</span></div></footer></div></a></article></aside></div><footer class="Footer__FooterWrapper-t92llg-0 hwvjtC"><nav><div class="footer-col"><h3 class="footer-title">Maxence Poutord<!-- --> © <!-- -->2021</h3><p class="footer-item-text">Built with<!-- --> <a class="footer-link" href="https://www.gatsbyjs.org">Gatsby</a>.</p><p class="footer-item-text">Theme using<!-- --> <a class="footer-link" href="https://github.com/maxpou/gatsby-starter-morning-dew">gatsby-starter-morning-dew</a>.</p><p class="footer-item-text">Hosted with<!-- --> <span class="footer-heart" role="img" aria-label="Love">❤</span> <!-- -->by<!-- --> <a class="footer-link" href="https://github.com">GitHub</a>.</p></div><div class="footer-col"><h3 class="footer-title">Explore</h3><div class="footer-column-items"><span class="footer-item"><a class="footer-link" href="/">Blog</a></span><span class="footer-item"><a class="footer-link" href="/speaking">Speaking</a></span><span class="footer-item"><a class="footer-link" href="/portfolio">Portfolio</a></span><span class="footer-item"><a class="footer-link" href="/uses">Uses</a></span><span class="footer-item"><a class="footer-link" href="/about">About</a></span><span class="footer-item"><a class="footer-link" href="/cv">Resume</a></span></div></div><div class="footer-col"><h3 class="footer-title">Follow me</h3><div class="footer-column-items"><span class="footer-item"><a class="footer-link" href="https://github.com/maxpou">GitHub</a></span><span class="footer-item"><a class="footer-link" href="https://twitter.com/_maxpou">Twitter</a></span><span class="footer-item"><a class="footer-link" href="https://www.linkedin.com/in/maxpou/">LinkedIn</a></span><span class="footer-item"><a class="footer-link" href="https://nomadlist.com/@maxpou">Nomad List</a></span><span class="footer-item"><a class="footer-link" href="https://dev.to/maxpou">Dev.to</a></span><span class="footer-item"><a class="footer-link" href="/rss">RSS</a></span></div></div></nav></footer></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-67868977-2', 'auto', {});
      
      
      
      
      
      }</script><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-67868977-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/cache-doctrine-avec-redis";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-67d3d386ca9315df205e.js"],"app":["/app-1b85119561676c67c6f2.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-241020a1cf7d0f317bbe.js"],"component---node-modules-gatsby-starter-morning-dew-src-pages-404-js":["/component---node-modules-gatsby-starter-morning-dew-src-pages-404-js-40cecce71934cf7e7763.js"],"component---node-modules-gatsby-starter-morning-dew-src-templates-blog-list-template-js":["/component---node-modules-gatsby-starter-morning-dew-src-templates-blog-list-template-js-e0f8ef86b27c83ffbddf.js"],"component---node-modules-gatsby-starter-morning-dew-src-templates-blog-post-js":["/component---node-modules-gatsby-starter-morning-dew-src-templates-blog-post-js-90a1a5a368647b898f99.js"],"component---node-modules-gatsby-starter-morning-dew-src-templates-page-js":["/component---node-modules-gatsby-starter-morning-dew-src-templates-page-js-09acc0adf3be55a8cd32.js"],"component---node-modules-gatsby-starter-morning-dew-src-templates-tags-js":["/component---node-modules-gatsby-starter-morning-dew-src-templates-tags-js-45ba5a7c8b5a62470c33.js"],"component---src-pages-cv-js":["/component---src-pages-cv-js-28ae7ef972363d729275.js"]};/*]]>*/</script><script src="/polyfill-67d3d386ca9315df205e.js" nomodule=""></script><script src="/webpack-runtime-6541d42a9ee1faf472db.js" async=""></script><script src="/styles-7d4153d260c0197f0043.js" async=""></script><script src="/ab9c96887abbdab8097b4b7a6b0aea47141cbaf6-2bff262f7eafc6b968da.js" async=""></script><script src="/75f61cbc8b4957b70288e42efd9d48e28ad28b43-b16c82e344eb755bd862.js" async=""></script><script src="/component---node-modules-gatsby-starter-morning-dew-src-templates-blog-post-js-90a1a5a368647b898f99.js" async=""></script><script src="/app-1b85119561676c67c6f2.js" async=""></script><script src="/framework-cb37257835832d9565ad.js" async=""></script><script src="/cd67464b56c598a654fc65ad34d4a5dd4dc63f41-ab99e105572409bc2d21.js" async=""></script></body></html>